\documentclass[12pt,french,oneside]{book}

%\usepackage[utf8x]{inputenc}
\usepackage[T1]{fontenc}

\usepackage{fontspec}
\setmainfont{Adobe Garamond Pro}
\defaultfontfeatures{Numbers=OldStyle,Ligatures=Rare,Mapping=tex-text}

%%%%%% Ce qui suit permet d'avoir le nom des parties en en-tête avec 
\usepackage{etoolbox}
\makeatletter
%%% patch \@part[#1]{#2} and \@spart (see the class file) to save the part name
\pretocmd{\@part}{\gdef\parttitle{#1}}{}{}
\pretocmd{\@spart}{\gdef\parttitle{#1}}{}{}
\makeatother

\usepackage[a4paper]{geometry}

\usepackage{array}

\usepackage{slantsc}

\usepackage{enumitem}

\usepackage[pagestyles]{titlesec}

\usepackage{numprint}

%\usepackage{quotchap}

\usepackage{babel}
\frenchbsetup{og=«,fg=»}

\usepackage{hyperref}
\hypersetup{colorlinks=true, linkcolor=blue,urlcolor=blue}


% Suppression de l'affichage des numéros de sectionnement en dessous des chapitres :
\setcounter{secnumdepth}{0}

%% Notes temporaires invisibles
%\newcommand{\tempnote}[1]{}
%% Notes temporaires visibles
\newcommand{\tempnote}[1]{\marginpar{\tiny\fontspec[Ligatures=Rare,Variant=8]{Zapfino}\selectfont #1}}

% \fsc comme avec efrench
\makeatletter
%
\def\@fscespace[#1 #2]{%
 \textsc{%
  \MakeUppercase{\@car#1\@nil}%
  \MakeLowercase{\@cdr#1\@nil}}%
 \if\relax\detokenize{#2}\relax
 \else%
   \space\@fscespace[#2]%
 \fi}
%
\newcommand\fsc[1]{\@fsctiret[#1-]}
\def\@fsctiret[#1-#2]{%
 \@fscespace[#1 ]%
 \if\relax\detokenize{#2}\relax
 \else%
   --\@fsctiret[#2]%
 \fi}
%
\makeatother

%\newcommand*{\bsc}[1]{\leavevmode\hbox{\scshape #1}} % De Babel : noms de famille en petite majuscules et insécables

% D'après l'Imprimerie Nationale, les siècles s'écrivent avec des chiffres romains
% en petites capitales... Comme il n'y a pas de petites capitales italiques, on essaie
% d'utiliser dans ce cas des petites capitales penchées : c'est pas très différent
\makeatletter
\newcommand*{\my@test@it}{it}
\newcommand*{\crm}[1]{%
\ifx\f@shape\my@test@it%
  %[italique détecté]
  \textsc{\textsl{\romannumeral #1}}\relax
\else%
  %[italique non-détecté]
  \textsc{\romannumeral #1}\relax
\fi}
\makeatother

\newcommand*{\crmieme}[1]{%
\crm{#1}%
\ifnum#1=1%
  \ifdefined\ier%
    \ier%
  \else%
    \textsuperscript{\lowercase{er}}%
  \fi%
\else%
  \ifdefined\ieme%
    \ieme%
  \else%
    \textsuperscript{\lowercase{e}}%
  \fi%
\fi%
}

\newcommand*{\siecle}[1]{%
\crmieme{#1}\ siècle%
}

\newcommand*{\siecles}[2]{%
\crm{#1}--\crm{#2}%
\ifdefined\iemes%
  \iemes%
\else%
  \textsuperscript{\lowercase{es}}%
\fi%
\ siècles%
}

\newcommand\temppagebreak{\pagebreak}


\makeatletter
\@addtoreset{chapter}{part}
\makeatother


%\renewcommand{\theenumii}{\alph{enumii}}
\renewcommand{\labelenumii}{\theenumii.}

\title{Générations et Histoire}
\author{Hervé \fsc{Tigréat}}


\begin{document}

\pagestyle{empty}

\setmainfont{Adobe Garamond Pro}

%%%%%% définition du style "livre", merci etoolbox pour \parttitle
%\newpagestyle{livre}{\sethead[\thepage][][\MakeUppercase\parttitle]{\MakeUppercase\chaptertitle}{}{\thepage}}
\newpagestyle{livre}{\sethead[\thepage][][\scshape\parttitle]{\scshape\chaptertitle}{}{\thepage}}
%\newpagestyle{livre}{\sethead[\thepage][][\scshape\chaptertitle]{\scshape\sectiontitle}{}{\thepage}}

\maketitle


\frontmatter

%%%%% début d'utilisation du style "livre"
\pagestyle{livre}

%\begin{savequote}%[45mm]
%Ceux qui ont tout oublié n'ont pas d'avenir
%\qauthor{Régis~\fsc{Debray}, France Culture le 4.1.2013 à 8 h 35}
%\end{savequote}

\chapter{Accueil}
\input{frontmatter/accueil}

\chapter{Prologue}
\input{frontmatter/prologue}


\mainmatter

\thispagestyle{empty}
\input{chapitres/nos_antiquites}

\input{chapitres/de_constantin_aux_lumieres}

\input{chapitres/lumieres_baby_boom}

\input{chapitres/notre_temps}


\backmatter

\chapter{Conclusion}
\input{chapitres/Conclusion}

\tableofcontents

\end{document}
